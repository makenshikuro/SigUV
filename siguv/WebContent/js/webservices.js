function LocalizarProfesor(a){console.log("id: "+a),$.getJSON(_serverDB+"rest/v0/profesores/"+a,function(e){if(1==e.visibilidad)$.ajax({url:_serverDB+"rest/v0/profesores/buscar?user="+a,dataType:"json",success:function(e){console.log("SUCCESS: ",e),$("#busqueda-tab-todo .typeahead").typeahead("val",""),$("#busqueda-tab-profesor .typeahead").typeahead("val",""),$("#busqueda-tab-asignatura .typeahead").typeahead("val",""),$("#listaDocentes").empty(),$("#listaTodo").empty(),openSidebarInfo(e,"profesores")}});else{var o='<div class="claseerror">';o+='Lo sentimos, pero el recurso "'+e.nombre+'" no es accesible por lo que no se mostrar치 informaci칩n al respecto. Disculpe las molestias',o+="</div>",map.fire("modal",{content:o})}}),ModalClose()}function BuscarEspacio(e,o){$.ajax({url:_serverDB+"rest/v0/espacios/buscar?lat="+e+"&long="+o+"&piso="+_nivelActual,dataType:"json",success:function(e){LocalizarEspacio(e.idespacio)}})}function LocalizarEspacio(e){$.getJSON(_serverDB+"rest/v0/espacios/"+e,function(e){if(1==e.visibilidad)setPosition(e.coordenada.latitud,e.coordenada.longitud,21,"false"),addMarker(e.coordenada.latitud,e.coordenada.longitud),$("#busqueda-tab-todo .typeahead").typeahead("val",""),$("#busqueda-tab-profesor .typeahead").typeahead("val",""),$("#busqueda-tab-asignatura .typeahead").typeahead("val",""),$("#listaDocentes").empty(),$("#listaTodo").empty(),openSidebarInfo(e,"espacios");else{var o='<div class="claseerror">';o+='Lo sentimos, pero el recurso "'+e.nombre+'" no es accesible por lo que no se mostrar치 informaci칩n al respecto. Disculpe las molestias',o+="</div>",map.fire("modal",{content:o})}}),ModalClose()}function ListarDocentesAsignatura(e){var s;return $.ajax({type:"GET",url:_serverDB+"webresources/asignaturas/"+e+"/profesores",dataType:"json",success:function(e,o,a){"success"===o&&(s=e)},async:!1}),s}function getAsignaturas(e){var s;return $.ajax({type:"GET",url:_serverDB+"webresources/profesores/"+e+"/asignaturas",dataType:"json",success:function(e,o,a){"success"===o&&(s=e)},async:!1}),s}function getPanoramas(e){var s;return $.ajax({type:"GET",url:_serverDB+"webresources/espacios/"+e+"/panoramas",dataType:"json",success:function(e,o,a){"success"===o&&(s=e)},async:!1}),s}function GetQueryStringParams(){var e="error",o=!1,a=window.location.search.substring(1);a||(e="default");for(var s=a.split("&"),t=0;t<s.length;t++){if(-1!==s[t].split("=")){var r=s[t].split("=");"espacio"===r[0]&&!0!==o?void 0!==r[1]&&(e=r[1]+";espacio",o=!0):"profesor"===r[0]&&!0!==o&&void 0!==r[1]&&(e=r[1]+";profesor",o=!0)}}return e}function MostrarURL(e){var o=e.split(";"),a=o[0],s=o[1],t="";"espacio"===s?t=window.location.origin+"/siguv/index.xhtml?espacio="+a:"profesor"===s&&(t=window.location.origin+"/siguv/index.xhtml?profesor="+a);var r='<div class="urlbox row">';r+='<div class="col-10">',r+='<input id="url" class="form-control" value="'+t+'">',r+="</div>",r+='<div class="col-2">',r+='<div class="btn withoutPadding" data-clipboard-target="#url">',r+='<i class="fas fa-clipboard fa-2x" ></i>',r+="</div>",r+="</div>",r+="</div>",map.fire("modal",{content:r});new ClipboardJS(".btn")}function ShareTwitter(e){console.log(e.split(";")[1]);var o="http://twitter.com/share?url="+("profesor"==e.split(";")[1]?window.location.origin+"/siguv/index.xhtml?profesor="+e.split(";")[0]:window.location.origin+"/siguv/index.xhtml?espacio="+e.split(";")[0]);window.open(o,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes")}function ShareFacebook(e){console.log(e.split(";")[1]);var o="https://www.facebook.com/sharer/sharer.php?u="+("profesor"==e.split(";")[1]?window.location.origin+"/siguv/index.xhtml?profesor="+e.split(";")[0]:window.location.origin+"/siguv/index.xhtml?espacio="+e.split(";")[0]);window.open(o,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes")}function recovery(){var e=$.ajax({type:"POST",url:_serverDB+"rest/v0/recovery",data:{correo:$("#inputEmail").val()},success:function(e){console.log("wow"+e)}});console.log(e)}function CallSucceed(e){console.log("dentro"),query=e}$("#map").ready(function(){$.getJSON(_serverDB+"rest/v0/edificios",function(e){var n='<table class="table table-hover"><tbody>';$.each(e,function(e,o){var a=L.latLng(o.topleft.split(",")[0],o.topleft.split(",")[1]),s=L.latLng(o.topright.split(",")[0],o.topright.split(",")[1]),t=L.latLng(o.bottomleft.split(",")[0],o.bottomleft.split(",")[1]),r=new L.LatLngBounds(a,s).extend(t);map.fitBounds(r);var i=L.imageOverlay.rotated(_server+"planos/"+o.idedificio+_nivelActual+_locale+".svg",a,s,t,{opacity:.8,interactive:!1});layerGroupPlanos.addLayer(i),n+='<tr onclick="setPosition('+o.coordenada.latitud+","+o.coordenada.longitud+', 19,true);"><td><img title="'+o.nombrees+'" alt="'+o.nombrees+'" width= "50px" src="'+_server+"xanos/"+o.xano+'">'+o.nombrees+"</td></tr>"}),n+="</tbody></table>",$(n).appendTo("#facultades")})});