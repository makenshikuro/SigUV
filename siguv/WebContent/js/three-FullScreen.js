var THREEx=THREEx||{};THREEx.FullScreen=THREEx.FullScreen||{},THREEx.FullScreen.available=function(){return this._hasWebkitFullScreen||this._hasMozFullScreen},THREEx.FullScreen.activated=function(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:this._hasMozFullScreen?document.mozFullScreen:void console.assert(!1)},THREEx.FullScreen.request=function(e){e=e||document.body,this._hasWebkitFullScreen?e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):this._hasMozFullScreen?e.mozRequestFullScreen():console.assert(!1)},THREEx.FullScreen.cancel=function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen?document.mozCancelFullScreen():console.assert(!1),WindowResize()},THREEx.FullScreen._hasWebkitFullScreen="webkitCancelFullScreen"in document,THREEx.FullScreen._hasMozFullScreen="mozCancelFullScreen"in document,THREEx.FullScreen.bindKey=function(e){(e=e||{}).charCode||"f".charCodeAt(0);var n,l,c=void 0!==e.dblclick&&e.dblclick,t=e.element,u=function(){THREEx.FullScreen.activated()?THREEx.FullScreen.cancel():THREEx.FullScreen.request(t)},r=(n=function(e){e.which},l=this,function(){return n.apply(l,arguments)});return document.addEventListener("keypress",r,!1),c&&document.addEventListener("dblclick",u,!1),{unbind:function(){document.removeEventListener("keypress",r,!1),c&&document.removeEventListener("dblclick",u,!1)}}};