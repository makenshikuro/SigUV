L.Control.BootstrapModal=L.Control.extend({options:{position:"topright",modalId:null,tooltip:"",glyph:"info-sign"},initialize:function(o){if(L.setOptions(this,o),!o.modalId)throw"L.Control.BootstrapModal: modalId is required";if(this.modal=$("#"+this.options.modalId),!this.modal.length)throw"L.Control.BootstrapModal: could not find #"+this.options.modalId+"in the DOM";if("dialog"!==this.modal.attr("role"))throw"L.Control.BootstrapModal: #"+this.options.modalId+' does not have role="dialog"   Are you sure it\'s a dialog?';if(!this.modal.hasClass("modal"))throw"L.Control.BootstrapModal: #"+this.options.modalId+' does not have class="modal"   Are you sure it\'s a dialog?'},onAdd:function(o){return this.map=o,this.active=!1,this.controlDiv=L.DomUtil.create("div","leaflet-control-bootstrapmodal leaflet-bar"),(this.controlDiv.control=this).controlDiv.title=this.options.tooltip,this.controlDiv.innerHTML='<a href="#"><i class="glyphicon glyphicon-'+this.options.glyph+'"></i></a>',L.DomEvent.addListener(this.controlDiv,"mousedown",L.DomEvent.stopPropagation).addListener(this.controlDiv,"click",L.DomEvent.stopPropagation).addListener(this.controlDiv,"click",L.DomEvent.preventDefault).addListener(this.controlDiv,"click",function(){this.control.handleClick()}),this.controlDiv},handleClick:function(){this.modal.modal("show")}});